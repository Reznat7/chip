<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>GADIONOVKA666 - TEST EDITION</title>
    <link href="https://fonts.googleapis.com/css2?family=Creepster&family=Orbitron:wght@900&display=swap" rel="stylesheet">
    <style>
        /* --- –ë–ê–ó–û–í–´–ô –§–û–ù –ò –°–¢–ò–õ–ò --- */
        :root {
            --primary: #ff4d4d;
            --bg: #1a1a1a;
            --card: #2d2d2d;
            --text: #ffffff;
        }

        body {
            margin: 0; padding: 0; background: #000;
            background-image: 
                radial-gradient(2px 2px at 20px 30px, #fff, rgba(255,255,255,0.3) 8px, transparent 15px),
                radial-gradient(1.5px 1.5px at 60px 70px, #fff, rgba(255,255,255,0.2) 6px, transparent 12px);
            background-size: 120px 120px;
            animation: starsBlink 4s ease-in-out infinite alternate;
            color: white; display: flex; flex-direction: column; align-items: center;
            min-height: 100vh; overflow-x: hidden; font-family: 'Segoe UI', Arial, sans-serif; position: relative;
        }
        @keyframes starsBlink { 0% { opacity: 1; } 100% { opacity: 0.6; } }

        /* --- –ì–ò–†–õ–Ø–ù–î–´ --- */
        .light { width: 12px; height: 18px; border-radius: 50% 50% 50% 50% / 70% 70% 30% 30%; position: relative; transition: 0.3s; }
        .light::before { content: ''; position: absolute; background: #111; top: -3px; left: 3px; width: 6px; height: 4px; }
        .garland-top { width: 100%; height: 40px; border-bottom: 1px solid #222; display: flex; justify-content: space-around; padding: 0 5px; z-index: 10; }
        .garland-top .light { margin-top: 15px; } 
        .garland-side { position: fixed; top: 0; height: 100vh; width: 20px; display: flex; flex-direction: column; justify-content: space-around; align-items: center; z-index: 5; }
        .left-s { left: 5px; } .right-s { right: 5px; }
        .on .light { animation: blink 0.8s infinite alternate; }
        .off .light { background: #111 !important; box-shadow: none !important; animation: none !important; }
        @keyframes blink { from { opacity: 0.4; } to { opacity: 1; box-shadow: 0 0 15px currentColor; } }
        .light:nth-child(4n+1) { background: #ff0000; color: #ff0000; }
        .light:nth-child(4n+2) { background: #00ff00; color: #00ff00; }
        .light:nth-child(4n+3) { background: #0066ff; color: #0066ff; }
        .light:nth-child(4n+4) { background: #ffff00; color: #ffff00; }

        h1.main-title { font-family: 'Creepster', cursive; color: #FFD700; width: 98%; text-align: center; font-size: 12vw; margin: 60px 0 20px; text-transform: uppercase; letter-spacing: 1vw; text-shadow: 4px 4px 0px #4b3b00; z-index: 2; }

        /* --- –ö–ù–û–ü–ö–ò --- */
        .btn-base { cursor: pointer; transition: 0.3s; text-transform: uppercase; font-weight: 900; border: none; z-index: 100; margin: 10px; }
        
        .btn-toggle { background-color: #000; color: #fff; font-size: 20px; padding: 10px 35px; border: 4px solid #00f2ff; box-shadow: 0 0 15px #00f2ff; clip-path: polygon(10% 0, 100% 0, 90% 100%, 0 100%); }

        .btn-test { 
            background: var(--primary); color: white; font-size: 24px; padding: 15px 50px; border-radius: 50px; 
            box-shadow: 0 0 20px var(--primary); animation: pulseBtn 1.5s infinite; 
        }
        @keyframes pulseBtn {
            0% { transform: scale(1); box-shadow: 0 0 20px var(--primary); }
            50% { transform: scale(1.05); box-shadow: 0 0 35px var(--primary); }
            100% { transform: scale(1); box-shadow: 0 0 20px var(--primary); }
        }

        /* --- –ö–û–ù–¢–ï–ô–ù–ï–† –¢–ï–°–¢–ê (–ù–ò–ñ–ù–Ø–Ø –ü–û–õ–û–í–ò–ù–ê –≠–ö–†–ê–ù–ê) --- */
        #test-overlay {
            display: none; 
            position: fixed; 
            bottom: 0;
            left: 0;
            width: 100%;
            height: 50vh; /* –†–æ–≤–Ω–æ –Ω–∏–∂–Ω—è—è –ø–æ–ª–æ–≤–∏–Ω–∞ */
            z-index: 2000;
            justify-content: center;
            align-items: flex-end; 
        }

        #quiz-container {
            background-color: var(--card); padding: 20px; border-radius: 20px 20px 0 0; 
            box-shadow: 0 -10px 40px rgba(0,0,0,0.9); width: 100%; height: 100%;
            text-align: center; position: relative; border: 2px solid #444; border-bottom: none; color: white;
            overflow-y: auto; box-sizing: border-box;
        }

        .question { font-size: 1.2em; margin-bottom: 20px; min-height: 50px; color: var(--primary); font-weight: bold; }
        .options { display: grid; gap: 10px; }
        button.opt-btn { background-color: #3d3d3d; color: white; border: 2px solid transparent; padding: 14px; border-radius: 10px; cursor: pointer; font-size: 1em; transition: 0.2s; }
        button.opt-btn:hover { background-color: #444; border-color: var(--primary); }
        
        #result { display: none; padding-bottom: 20px; }
        .diagnosis-title { color: var(--primary); font-size: 1.8em; margin-top: 10px; font-weight: bold; }
        .description { font-style: italic; margin: 10px 0; line-height: 1.5; color: #ddd; font-size: 0.95em; }
        
        .reveal-btn { background-color: var(--primary); color: white; border: none; padding: 15px; font-size: 1em; font-weight: bold; border-radius: 50px; cursor: pointer; width: 100%; margin: 15px 0; }
        
        #emoji-portrait { display: none; font-size: 80px; background: #333; border-radius: 50%; width: 120px; height: 120px; line-height: 120px; margin: 15px auto; border: 4px solid var(--primary); animation: popIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        @keyframes popIn { from { transform: scale(0); } to { transform: scale(1); } }
        
        .share-btn { background-color: #28a745; color: white; border: none; padding: 12px; border-radius: 10px; width: 100%; cursor: pointer; font-weight: bold; }

        /* –ê–ù–ò–ú–ò–†–û–í–ê–ù–ù–ê–Ø –ö–ù–û–ü–ö–ê –ó–ê–ö–†–´–¢–ò–Ø */
        .close-test { 
            background: #444; border: 2px solid var(--primary); color: white; 
            cursor: pointer; font-size: 14px; margin-top: 15px; padding: 8px 25px; 
            border-radius: 20px; text-transform: uppercase; font-weight: bold;
            animation: pulseClose 2s infinite ease-in-out;
        }
        @keyframes pulseClose {
            0% { box-shadow: 0 0 0px var(--primary); transform: scale(1); }
            50% { box-shadow: 0 0 15px var(--primary); transform: scale(1.05); }
            100% { box-shadow: 0 0 0px var(--primary); transform: scale(1); }
        }
    </style>
</head>
<body>

    <div class="garland-top on garland-node"><div class="light"></div><div class="light"></div><div class="light"></div><div class="light"></div><div class="light"></div><div class="light"></div><div class="light"></div><div class="light"></div></div>
    <div class="garland-side left-s on garland-node"><div class="light"></div><div class="light"></div><div class="light"></div><div class="light"></div><div class="light"></div></div>
    <div class="garland-side right-s on garland-node"><div class="light"></div><div class="light"></div><div class="light"></div><div class="light"></div><div class="light"></div></div>

    <h1 class="main-title">GADIONOVKA666</h1>

    <button class="btn-base btn-test" onclick="openQuiz()">üî• –ü–†–û–ô–¢–ò –¢–ï–°–¢ üî•</button>
    <button class="btn-base btn-toggle" onclick="toggleGarland()">–ñ–ú–Ø–ö</button>

    <div id="test-overlay">
        <div id="quiz-container">
            <div id="quiz-ui">
                <h2 style="color: var(--primary); margin: 5px 0;">Gadionovka 666</h2>
                <div class="progress" id="progress" style="color: #888; font-size: 0.85em; margin-bottom: 15px;">–í–æ–ø—Ä–æ—Å 1 –∏–∑ 10</div>
                <div class="question" id="qText">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
                <div class="options" id="oCont"></div>
            </div>

            <div id="result">
                <h2 style="color: var(--primary); margin: 5px 0;">–í–ê–® –î–ò–ê–ì–ù–û–ó –≠–¢–û...</h2>
                <div class="diagnosis-title" id="diag-title"></div>
                <div class="description" id="diag-desc"></div>
                
                <button class="reveal-btn" id="revBtn" onclick="showPortrait()">–≠—Ç–æ—Ç –ø–µ—Ä—Å–æ–Ω–∞–∂ –ø–æ—Ö–æ–∂ –Ω–∞ –≤–∞—Å</button>
                <div id="emoji-portrait"></div>

                <button class="share-btn" onclick="copyResult()">–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç</button>
                <button class="opt-btn" style="width:100%; margin-top:10px;" onclick="location.reload()">–ü—Ä–æ–π—Ç–∏ –µ—â–µ —Ä–∞–∑</button>
                
                <button class="close-test" onclick="closeQuiz()">–ó–∞–∫—Ä—ã—Ç—å —Ç–µ—Å—Ç</button>
            </div>
        </div>
    </div>

    <script>
        const horrorSound = new Audio('https://www.myinstants.com/media/sounds/horror-ghost-sound-effect.mp3');
        function toggleGarland() { 
            const nodes = document.querySelectorAll('.garland-node');
            nodes.forEach(n => { n.classList.toggle('on'); n.classList.toggle('off'); });
            horrorSound.currentTime = 0; horrorSound.play().catch(()=>{});
        }

        function openQuiz() {
            document.getElementById('test-overlay').style.display = 'flex';
            startQuiz();
        }

        function closeQuiz() {
            document.getElementById('test-overlay').style.display = 'none';
        }

        let currentStep = 0;
        let totalScore = 0;
        let finalEmoji = "";
        let finalTitle = "";

        const questions = [
            { q: "–ö–∞–∫ —Ç—ã –∑–∞—Ö–æ–¥–∏—à—å –≤ —á–∞—Ç Gadionovka 666?", a: ["–° –Ω–æ–≥–∏ –∏ –º–µ–º–æ–º", "–¢–∏—Ö–æ —á–∏—Ç–∞—é", "–°—Ä–∞–∑—É –∫—Ä—É–∂–æ—á–µ–∫"] },
            { q: "–¢–≤–æ–µ –∏–¥–µ–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤ —Å—É–±–±–æ—Ç—É –≤–µ—á–µ—Ä–æ–º:", a: ["–ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ", "–¢—É—Ä–±–æ-—Ä–µ–∂–∏–º", "–ù–µ –ø–æ–º–Ω—é"] },
            { q: "–ß—Ç–æ —Ç—ã —Å–¥–µ–ª–∞–µ—à—å, –µ—Å–ª–∏ —É–≤–∏–¥–∏—à—å –ø—Ä–∏–≤–∏–¥–µ–Ω–∏–µ?", a: ["–ü—Ä–µ–¥–ª–æ–∂—É –≤—Å—Ç—É–ø–∏—Ç—å", "–°–ø—Ä–æ—à—É –ø—Ä–æ –ü–ª—é—Å", "–£–±–µ–≥—É"] },
            { q: "–¢–≤–æ–π –≥–ª–∞–≤–Ω—ã–π —Ç–∞–ª–∞–Ω—Ç ‚Äî —ç—Ç–æ...", a: ["–°–æ–Ω 12 —á–∞—Å–æ–≤", "–°—Ç—Ä–∞–Ω–Ω—ã–µ –∏–¥–µ–∏", "–ü—Ä–æ–º–æ–ª—á–∞—Ç—å"] },
            { q: "–õ—é–±–∏–º–∞—è –µ–¥–∞ –¥–ª—è –ø–æ—Å–∏–¥–µ–ª–æ–∫?", a: ["–û—Å—Ç—Ä–æ–µ", "–ü–∏—Ü—Ü–∞", "–≠–Ω–µ—Ä–≥–µ—Ç–∏–∫"] },
            { q: "–¢–≤–æ–π —É—Ä–æ–≤–µ–Ω—å —Å—Ç—Ä–µ—Å—Å–∞ —Å–µ–π—á–∞—Å:", a: ["–ö–∞–ø–∏–±–∞—Ä–∞", "–ù–µ—Ä–≤–Ω—ã–π —Ç–∏–∫", "–Ø –∏ —Å—Ç—Ä–µ—Å—Å"] },
            { q: "–ï—Å–ª–∏ –±—ã —Ç—ã –±—ã–ª –∂–∏–≤–æ—Ç–Ω—ã–º, —Ç–æ –∫–∞–∫–∏–º?", a: ["–õ–µ–Ω–∏–≤–µ—Ü", "–ï–Ω–æ—Ç", "–ö–æ—Ç-–∞—Ä–±—É–∑"] },
            { q: "–¢–≤–æ–µ –æ—Ç–Ω–æ—à–µ–Ω–∏–µ –∫ –¥–µ–¥–ª–∞–π–Ω–∞–º:", a: ["–ù–µ —Å–ª—ã—à–∞–ª", "–ë–µ–≥—É –∑–∞ –Ω–∏–º–∏", "–ü–æ–±–µ–∂–¥–∞—é"] },
            { q: "–ß—Ç–æ —Ç—ã –≤—ã–±–µ—Ä–µ—à—å?", a: ["–ú–∏–ª–ª–∏–æ–Ω $", "–õ–µ—Ç–∞—Ç—å", "–ê–∫—Ç–∏–≤ –≤ —á–∞—Ç–µ"] },
            { q: "–¢–≤–æ–π –¥–µ–≤–∏–∑ –ø–æ –∂–∏–∑–Ω–∏:", a: ["–ì–ª–∞–≤–Ω–æ–µ ‚Äî –æ–±–µ–¥", "–û—Ç–≤–∞–≥–∞!", "–ù–æ—Ä–º–∞–ª—å–Ω–æ –±—É–¥–µ—Ç"] }
        ];

        const diagnoses = [
            { t: "–•—Ä–æ–Ω–∏—á–µ—Å–∫–∏–π –•–æ—Ö–æ—Ç—É–Ω", d: "–í—ã —Å–º–µ–µ—Ç–µ—Å—å –¥–∞–∂–µ –Ω–∞–¥ –Ω–µ—Å–º–µ—à–Ω—ã–º–∏ —à—É—Ç–∫–∞–º–∏.", e: "üòÇ" },
            { t: "–ú–∞–≥–∏—Å—Ç—Ä –î–∏–≤–∞–Ω–Ω—ã—Ö –ù–∞—É–∫", d: "–í—ã –¥–æ—Å—Ç–∏–≥–ª–∏ –ø—Ä–æ—Å–≤–µ—Ç–ª–µ–Ω–∏—è, –Ω–µ –≤—Å—Ç–∞–≤–∞—è —Å –∫—Ä–æ–≤–∞—Ç–∏.", e: "üõãÔ∏è" },
            { t: "–ú–µ–º–µ—Ç–∏—á–µ—Å–∫–∏–π –ë–∞—Ä–æ–Ω", d: "–í–∞—à –º–æ–∑–≥ –Ω–∞ 80% —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –∫–∞—Ä—Ç–∏–Ω–æ–∫ —Å –∫–æ—Ç–∞–º–∏.", e: "üòº" },
            { t: "–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –î—É—à–Ω–∏–ª–∞", d: "–í—ã –∑–Ω–∞–µ—Ç–µ, –∫–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –∏ –ª—é–±–∏—Ç–µ —ç—Ç–æ –æ–±—ä—è—Å–Ω—è—Ç—å.", e: "üò§" },
            { t: "–≠–Ω–µ—Ä–≥–µ—Ç–∏—á–µ—Å–∫–∏–π –í–∞–º–ø–∏—Ä", d: "–í—ã –ø–∏—Ç–∞–µ—Ç–µ—Å—å —Ç–æ–ª—å–∫–æ –ø–æ–∑–∏—Ç–∏–≤–Ω–æ–π —ç–Ω–µ—Ä–≥–∏–µ–π –¥—Ä—É–∑–µ–π.", e: "ü•¶" },
            { t: "–ù–∏–Ω–¥–∑—è –ì–∞–¥–∏–æ–Ω–æ–≤–∫–∏", d: "–í—ã –≤—Å—ë –≤–∏–¥–∏—Ç–µ, –≤—Å—ë –∑–Ω–∞–µ—Ç–µ, –Ω–æ –º–æ–ª—á–∏—Ç–µ –≤ —á–∞—Ç–µ.", e: "ü•∑" },
            { t: "–ö–æ—Ä–æ–ª—å –†–∞–Ω–¥–æ–º–∞", d: "–ù–∏–∫—Ç–æ –Ω–µ –∑–Ω–∞–µ—Ç, —á—Ç–æ –≤—ã —Å–∫–∞–∂–µ—Ç–µ –≤ —Å–ª–µ–¥—É—é—â—É—é —Å–µ–∫—É–Ω–¥—É.", e: "üé≤" },
            { t: "–°–≤–µ—Ä—Ö–∑–≤—É–∫–æ–≤–æ–π –õ–µ–Ω—Ç—è–π", d: "–í—ã —É–º—É–¥—Ä—è–µ—Ç–µ—Å—å –Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞—Ç—å –æ—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ.", e: "ü¶•" },
            { t: "–ê–º–±–∞—Å—Å–∞–¥–æ—Ä –ü–µ—á–µ–Ω–µ–∫", d: "–õ—é–±–∞—è –ø—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–∞–µ—Ç—Å—è –¥–ª—è –≤–∞—Å –ø–µ—Ä–µ–∫—É—Å–æ–º.", e: "üç™" },
            { t: "–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ö—Ä–∏–Ω–∂–∞", d: "–í–∞—à–∏ —à—É—Ç–∫–∏ –Ω–∞—Å—Ç–æ–ª—å–∫–æ –ø–ª–æ—Ö–∏, —á—Ç–æ –æ–Ω–∏ –≥–µ–Ω–∏–∞–ª—å–Ω—ã.", e: "ü§°" }
        ];

        function startQuiz() {
            if (currentStep >= 10) {
                document.getElementById('quiz-ui').style.display = 'none';
                document.getElementById('result').style.display = 'block';
                let idx = Math.min(Math.floor((totalScore / 20) * 9), 9);
                const res = diagnoses[idx];
                document.getElementById('diag-title').innerText = res.t;
                document.getElementById('diag-desc').innerText = res.d;
                finalEmoji = res.e;
                finalTitle = res.t;
                return;
            }
            const q = questions[currentStep];
            document.getElementById('progress').innerText = "–í–æ–ø—Ä–æ—Å " + (currentStep + 1) + " –∏–∑ 10";
            document.getElementById('qText').innerText = q.q;
            const oCont = document.getElementById('oCont');
            oCont.innerHTML = '';
            q.a.forEach((ans, i) => {
                const b = document.createElement('button');
                b.className = 'opt-btn';
                b.innerText = ans;
                b.onclick = () => { totalScore += i; currentStep++; startQuiz(); };
                oCont.appendChild(b);
            });
        }

        function showPortrait() {
            document.getElementById('revBtn').style.display = 'none';
            const port = document.getElementById('emoji-portrait');
            port.innerText = finalEmoji;
            port.style.display = 'block';
        }

        function copyResult() {
            const text = "–ú–æ–π –¥–∏–∞–≥–Ω–æ–∑ –≤ Gadionovka 666: " + finalTitle + " " + finalEmoji;
            navigator.clipboard.writeText(text).then(() => alert("–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!"));
        }
    </script>
</body>
</html>

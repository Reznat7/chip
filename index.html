<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>GADIONOVKA666 - MEGA EDITION</title>
    <link href="https://fonts.googleapis.com/css2?family=Creepster&family=Orbitron:wght@700;900&display=swap" rel="stylesheet">
    <style>
        /* --- –ë–ê–ó–û–í–´–ô –§–û–ù --- */
        :root {
            --primary: #ff4d4d;
            --bg: #1a1a1a;
            --card: #2d2d2d;
            --text: #ffffff;
            --chill: #00f2ff;
        }

        body {
            margin: 0; padding: 0; background: #000;
            background-image: 
                radial-gradient(2px 2px at 20px 30px, #fff, rgba(255,255,255,0.3) 8px, transparent 15px),
                radial-gradient(1.5px 1.5px at 60px 70px, #fff, rgba(255,255,255,0.2) 6px, transparent 12px);
            background-size: 120px 120px;
            animation: starsBlink 4s ease-in-out infinite alternate;
            color: white; display: flex; flex-direction: column; align-items: center;
            min-height: 100vh; overflow-x: hidden; font-family: 'Orbitron', sans-serif; position: relative;
        }
        @keyframes starsBlink { 0% { opacity: 1; } 100% { opacity: 0.6; } }

        /* --- –ì–ò–†–õ–Ø–ù–î–´ --- */
        .light { width: 12px; height: 18px; border-radius: 50% 50% 50% 50% / 70% 70% 30% 30%; position: relative; transition: 0.3s; }
        .light::before { content: ''; position: absolute; background: #111; top: -3px; left: 3px; width: 6px; height: 4px; }
        .garland-top { width: 100%; height: 40px; border-bottom: 1px solid #222; display: flex; justify-content: space-around; padding: 0 5px; z-index: 10; position: relative; }
        .garland-top .light { margin-top: 15px; } 
        .garland-side { position: fixed; top: 0; height: 100vh; width: 20px; display: flex; flex-direction: column; justify-content: space-around; align-items: center; z-index: 5; }
        .left-s { left: 5px; } .right-s { right: 5px; }
        .on .light { animation: blink 0.8s infinite alternate; }
        .off .light { background: #111 !important; box-shadow: none !important; animation: none !important; }
        @keyframes blink { from { opacity: 0.4; } to { opacity: 1; box-shadow: 0 0 15px currentColor; } }
        .light:nth-child(4n+1) { background: #ff0000; color: #ff0000; }
        .light:nth-child(4n+2) { background: #00ff00; color: #00ff00; }
        .light:nth-child(4n+3) { background: #0066ff; color: #0066ff; }
        .light:nth-child(4n+4) { background: #ffff00; color: #ffff00; }

        /* –ó–ê–ì–û–õ–û–í–û–ö */
        h1.main-title { 
            font-family: 'Creepster', cursive; 
            color: #FFD700; 
            width: 100%; 
            text-align: center; 
            font-size: 15vw; 
            margin: 50px 0 10px; 
            text-transform: uppercase; 
            letter-spacing: 0.5vw; 
            text-shadow: 6px 6px 0px #4b3b00; 
            z-index: 1; 
            position: relative;
        }

        /* --- –ö–ù–û–ü–ö–ò --- */
        .main-btns-container { display: flex; gap: 20px; flex-wrap: wrap; justify-content: center; z-index: 100; margin-bottom: 20px; }
        .btn-base { cursor: pointer; transition: 0.3s; text-transform: uppercase; font-weight: 900; border: none; font-family: 'Orbitron', sans-serif; }
        
        .btn-test { background: var(--primary); color: white; font-size: 22px; padding: 15px 40px; border-radius: 60px; box-shadow: 0 0 25px var(--primary); animation: pulseBtn 1.5s infinite; }
        .btn-chill { background: var(--chill); color: #000; font-size: 22px; padding: 15px 40px; border-radius: 60px; box-shadow: 0 0 25px var(--chill); display: flex; align-items: center; gap: 15px; }
        .btn-chill span { display: inline-block; animation: carDrive 0.5s infinite linear; font-size: 1.6em; }
        @keyframes carDrive { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-5px); } }
        @keyframes pulseBtn { 0% { transform: scale(1); } 50% { transform: scale(1.05); } 100% { transform: scale(1); } }

        /* --- –†–ê–ú–ö–ê –ò–ó –ì–ò–†–õ–Ø–ù–î –î–õ–Ø –ù–ò–ñ–ù–ò–• –ö–ù–û–ü–û–ö --- */
        .garland-border-container {
            position: relative;
            padding: 15px;
            border: 6px dashed #444;
            border-image: linear-gradient(45deg, #ff0000, #00ff00, #0066ff, #ffff00) 1;
            animation: borderBlink 2s infinite alternate;
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            justify-content: center;
            z-index: 100;
            background: rgba(0,0,0,0.3);
        }
        @keyframes borderBlink {
            0% { border-image-source: linear-gradient(45deg, #ff0000, #00ff00, #0066ff, #ffff00); box-shadow: 0 0 10px #fff; }
            100% { border-image-source: linear-gradient(45deg, #ffff00, #ff0000, #00ff00, #0066ff); box-shadow: 0 0 20px #fff; }
        }

        /* –ö–ù–û–ü–ö–ê –ñ–ú–Ø–ö (–≤–Ω—É—Ç—Ä–∏ —Ä–∞–º–∫–∏) */
        .btn-toggle { background-color: #000; color: #fff; font-size: 20px; padding: 15px 35px; border: 4px solid #00f2ff; box-shadow: 0 0 15px #00f2ff; clip-path: polygon(10% 0, 100% 0, 90% 100%, 0 100%); width: auto; display: block;}

        /* –ù–û–í–ê–Ø –ó–ï–õ–ï–ù–ê–Ø –ö–ù–û–ü–ö–ê (–≤–Ω—É—Ç—Ä–∏ —Ä–∞–º–∫–∏) */
        .btn-index {
            font-family: 'Creepster', cursive; /* –°—Ç–∏–ª—å —Å –∫–∞—Ä—Ç–∏–Ω–∫–∏ */
            background: linear-gradient(to bottom, #7fff00, #32cd32);
            color: #006400;
            font-size: 24px;
            padding: 15px 40px;
            border: 4px solid #004d00;
            border-radius: 10px;
            text-shadow: 2px 2px 4px #000;
            box-shadow: 0 0 15px #32cd32, inset 0 0 10px #00ff00;
        }
        .btn-index:hover { background: linear-gradient(to bottom, #32cd32, #006400); color: #7fff00; box-shadow: 0 0 25px #32cd32; }

        /* --- –ö–û–ù–¢–ï–ô–ù–ï–† –¢–ï–°–¢–ê --- */
        #test-overlay { display: none; position: fixed; bottom: 0; left: 0; width: 100%; height: 50vh; z-index: 2000; justify-content: center; align-items: flex-end; }
        #quiz-container { background-color: var(--card); padding: 30px; border-radius: 25px 25px 0 0; box-shadow: 0 -15px 50px rgba(0,0,0,1); width: 100%; height: 100%; text-align: center; border: 3px solid #444; border-bottom: none; overflow-y: auto; box-sizing: border-box; }
        .question { font-size: 2.8em; margin-bottom: 30px; min-height: 80px; color: var(--primary); font-weight: 900; text-shadow: 3px 3px 6px rgba(0,0,0,0.8); line-height: 1.1; }
        .progress { color: #888; font-size: 2em; margin-bottom: 20px; font-weight: 900; }
        .test-title { color: var(--primary); margin: 0 0 20px; font-size: 3em; text-transform: uppercase; text-shadow: 4px 4px 0px #000; font-weight: 900; }
        .options { display: grid; gap: 20px; }
        button.opt-btn { background-color: #333; color: white; border: 4px solid transparent; padding: 25px; border-radius: 20px; cursor: pointer; font-size: 2.2em; transition: 0.2s; font-weight: 900; font-family: 'Orbitron', sans-serif; }
        button.opt-btn:hover { background-color: #444; border-color: var(--primary); transform: scale(1.02); }
        #result { display: none; padding-bottom: 40px; }
        .diagnosis-title { color: var(--primary); font-size: 3.5em; margin-top: 25px; font-weight: 900; }
        .description { font-style: italic; margin: 20px 0; line-height: 1.3; color: #eee; font-size: 2.3em; font-weight: 700; }
        .reveal-btn { background-color: var(--primary); color: white; border: none; padding: 30px; font-size: 2.2em; font-weight: 900; border-radius: 60px; cursor: pointer; width: 100%; margin: 30px 0; font-family: 'Orbitron', sans-serif; }
        #emoji-portrait { display: none; font-size: 150px; background: #222; border-radius: 50%; width: 200px; height: 200px; line-height: 200px; margin: 30px auto; border: 6px solid var(--primary); animation: popIn 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        @keyframes popIn { from { transform: scale(0); } to { transform: scale(1); } }
        .share-btn { background-color: #28a745; color: white; border: none; padding: 25px; border-radius: 20px; width: 100%; cursor: pointer; font-weight: 900; font-size: 2em; }
        .close-test { background: #222; border: 5px solid var(--primary); color: var(--primary); cursor: pointer; font-size: 1.8em; margin: 40px auto 20px; padding: 20px 60px; border-radius: 50px; text-transform: uppercase; font-weight: 900; display: block; animation: pulseClose 2s infinite ease-in-out; }
        @keyframes pulseClose { 0%, 100% { transform: scale(1); opacity: 0.8; } 50% { transform: scale(1.05); opacity: 1; box-shadow: 0 0 30px var(--primary); } }

        /* --- –≠–ö–†–ê–ù –û–¢–°–ß–ï–¢–ê --- */
        #chill-overlay {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.98);
            z-index: 3000; flex-direction: column; justify-content: center; align-items: center; text-align: center; padding: 20px;
        }
        #chill-counter { font-size: 25vw; color: var(--chill); font-weight: 900; animation: pulseCountdown 1s infinite; text-shadow: 0 0 30px var(--chill); margin-bottom: 20px; }
        #chill-msg { 
            font-size: 6vw; 
            color: #fff; 
            text-transform: uppercase; 
            font-weight: 900;
            line-height: 1.1;
            text-shadow: 0 0 20px #000;
            margin-bottom: 30px;
        }
        #chill-msg span { color: #ff0000; }
        .btn-overlay-chill {
            cursor: pointer;
            text-transform: uppercase;
            font-weight: 900;
            font-family: 'Orbitron', sans-serif;
            padding: 15px 40px;
            border-radius: 50px;
            margin: 10px;
            animation: pulseClose 2s infinite ease-in-out;
            font-size: 1.2em;
        }
        .btn-cancel-chill { background: #222; border: 4px solid var(--primary); color: var(--primary); }
        .btn-skip-chill { background: #222; border: 4px solid #28a745; color: #28a745; }
        @keyframes pulseCountdown { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.15); } }
    </style>
</head>
<body>

    <div class="garland-top on garland-node"><div class="light"></div><div class="light"></div><div class="light"></div><div class="light"></div><div class="light"></div><div class="light"></div><div class="light"></div><div class="light"></div></div>
    <div class="garland-side left-s on garland-node"><div class="light"></div><div class="light"></div><div class="light"></div><div class="light"></div><div class="light"></div></div>
    <div class="garland-side right-s on garland-node"><div class="light"></div><div class="light"></div><div class="light"></div><div class="light"></div><div class="light"></div></div>

    <h1 class="main-title">GADIONOVKA666</h1>

    <div class="main-btns-container">
        <button class="btn-base btn-test" onclick="openQuiz()">üî• –ü–†–û–ô–¢–ò –¢–ï–°–¢ üî•</button>
        <button class="btn-base btn-chill" onclick="startChill()">–ü–û–ö–ê–¢–ê–¢–¨–°–Ø –ù–ê –ß–ò–õ–ï <span>üöô</span></button>
    </div>
    
    <div class="garland-border-container">
        <button class="btn-base btn-toggle" onclick="toggleGarland()">–ñ–ú–Ø–ö</button>
        <a href="index.html" style="text-decoration: none;">
             <button class="btn-base btn-index">–ü–ï–†–í–ê–Ø –°–¢–†–ê–ù–ò–¶–ê</button>
        </a>
    </div>

    <div id="chill-overlay">
        <div id="chill-counter">7</div>
        <div id="chill-msg">–•–û–ß–ï–®–¨ –ü–û–ö–ê–¢–ê–¢–¨–°–Ø –ù–ê–ñ–ú–ò <span>BEGIN (–ù–ê–ß–ò–ù–ê–¢–¨)</span>..</div>
        <div style="display:flex; gap:15px; flex-wrap:wrap; justify-content:center;">
            <button class="btn-overlay-chill btn-skip-chill" onclick="skipChill()">–ü–†–û–ü–£–°–¢–ò–¢–¨ –û–¢–°–ß–ï–¢</button>
            <button class="btn-overlay-chill btn-cancel-chill" onclick="cancelChill()">–û–¢–ú–ï–ù–ê</button>
        </div>
    </div>

    <div id="test-overlay">
        <div id="quiz-container">
            <div id="quiz-ui">
                <h2 class="test-title">Gadionovka 666</h2>
                <div class="progress" id="progress">–í–æ–ø—Ä–æ—Å 1 –∏–∑ 10</div>
                <div class="question" id="qText">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
                <div class="options" id="oCont"></div>
                <button class="close-test" onclick="closeQuiz()">–ó–∞–∫—Ä—ã—Ç—å —Ç–µ–∫—Å—Ç</button>
            </div>
            <div id="result">
                <h2 class="test-title">–í–ê–® –î–ò–ê–ì–ù–û–ó –≠–¢–û...</h2>
                <div class="diagnosis-title" id="diag-title"></div>
                <div class="description" id="diag-desc"></div>
                <button class="reveal-btn" id="revBtn" onclick="showPortrait()">–≠—Ç–æ—Ç –ø–µ—Ä—Å–æ–Ω–∞–∂ –ø–æ—Ö–æ–∂ –Ω–∞ –≤–∞—Å</button>
                <div id="emoji-portrait"></div>
                <button class="share-btn" onclick="copyResult()">–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç</button>
                <button class="opt-btn" style="width:100%; margin-top:25px;" onclick="restartQuiz()">–ü—Ä–æ–π—Ç–∏ –µ—â–µ —Ä–∞–∑</button>
                <button class="close-test" onclick="closeQuiz()">–ó–∞–∫—Ä—ã—Ç—å —Ç–µ–∫—Å—Ç</button>
            </div>
        </div>
    </div>

    <script>
        const horrorSound = new Audio('https://www.myinstants.com/media/sounds/horror-ghost-sound-effect.mp3');
        const clickSound = new Audio('https://www.soundjay.com/buttons/sounds/button-16.mp3');
        const drumSound = new Audio('https://www.myinstants.com/media/sounds/drum-roll.mp3');
        drumSound.volume = 0.5;

        let chillTimer;

        function toggleGarland() { 
            const nodes = document.querySelectorAll('.garland-node');
            nodes.forEach(n => { n.classList.toggle('on'); n.classList.toggle('off'); });
            horrorSound.currentTime = 0; horrorSound.play().catch(()=>{});
        }

        function startChill() {
            clickSound.play();
            const overlay = document.getElementById('chill-overlay');
            const counter = document.getElementById('chill-counter');
            overlay.style.display = 'flex';
            
            let timeLeft = 7; 
            counter.textContent = timeLeft;

            chillTimer = setInterval(() => {
                timeLeft--;
                counter.textContent = timeLeft;
                if (timeLeft <= 0) {
                    clearInterval(chillTimer);
                    window.location.href = "https://slowroads.io/";
                }
            }, 1000);
        }

        function cancelChill() {
            clickSound.play();
            clearInterval(chillTimer);
            document.getElementById('chill-overlay').style.display = 'none';
        }

        function skipChill() {
            clickSound.play();
            clearInterval(chillTimer);
            window.location.href = "https://slowroads.io/";
        }

        function openQuiz() { document.getElementById('test-overlay').style.display = 'flex'; restartQuiz(); }
        function closeQuiz() { document.getElementById('test-overlay').style.display = 'none'; }
        function restartQuiz() { currentStep = 0; totalScore = 0; document.getElementById('result').style.display = 'none'; document.getElementById('quiz-ui').style.display = 'block'; document.getElementById('revBtn').style.display = 'block'; document.getElementById('emoji-portrait').style.display = 'none'; startQuiz(); }

        let currentStep = 0, totalScore = 0, finalEmoji = "", finalTitle = "";
        const questions = [
            { q: "–ö–∞–∫ —Ç—ã –∑–∞—Ö–æ–¥–∏—à—å –≤ —á–∞—Ç Gadionovka 666?", a: ["–° –Ω–æ–≥–∏ –∏ –º–µ–º–æ–º", "–¢–∏—Ö–æ —á–∏—Ç–∞—é", "–°—Ä–∞–∑—É –∫—Ä—É–∂–æ—á–µ–∫"] },
            { q: "–¢–≤–æ–µ –∏–¥–µ–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤ —Å—É–±–±–æ—Ç—É –≤–µ—á–µ—Ä–æ–º:", a: ["–ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ", "–¢—É—Ä–±–æ-—Ä–µ–∂–∏–º", "–ù–µ –ø–æ–º–Ω—é"] },
            { q: "–ß—Ç–æ —Ç—ã —Å–¥–µ–ª–∞–µ—à—å, –µ—Å–ª–∏ —É–≤–∏–¥–∏—à—å –ø—Ä–∏–≤–∏–¥–µ–Ω–∏–µ?", a: ["–ü—Ä–µ–¥–ª–æ–∂—É –≤—Å—Ç—É–ø–∏—Ç—å", "–°–ø—Ä–æ—à—É –ø—Ä–æ –ü–ª—é—Å", "–£–±–µ–≥—É"] },
            { q: "–¢–≤–æ–π –≥–ª–∞–≤–Ω—ã–π —Ç–∞–ª–∞–Ω—Ç ‚Äî —ç—Ç–æ...", a: ["–°–æ–Ω 12 —á–∞—Å–æ–≤", "–°—Ç—Ä–∞–Ω–Ω—ã–µ –∏–¥–µ–∏", "–ü—Ä–æ–º–æ–ª—á–∞—Ç—å"] },
            { q: "–õ—é–±–∏–º–∞—è –µ–¥–∞ –¥–ª—è –ø–æ—Å–∏–¥–µ–ª–æ–∫?", a: ["–û—Å—Ç—Ä–æ–µ", "–ü–∏—Ü—Ü–∞", "–≠–Ω–µ—Ä–≥–µ—Ç–∏–∫"] },
            { q: "–¢–≤–æ–π —É—Ä–æ–≤–µ–Ω—å —Å—Ç—Ä–µ—Å—Å–∞ —Å–µ–π—á–∞—Å:", a: ["–ö–∞–ø–∏–±–∞—Ä–∞", "–ù–µ—Ä–≤–Ω—ã–π —Ç–∏–∫", "–Ø –∏ —Å—Ç—Ä–µ—Å—Å"] },
            { q: "–ï—Å–ª–∏ –±—ã —Ç—ã –±—ã–ª –∂–∏–≤–æ—Ç–Ω—ã–º, —Ç–æ –∫–∞–∫–∏–º?", a: ["–õ–µ–Ω–∏–≤–µ—Ü", "–ï–Ω–æ—Ç", "–ö–æ—Ç-–∞—Ä–±—É–∑"] },
            { q: "–¢–≤–æ–µ –æ—Ç–Ω–æ—à–µ–Ω–∏–µ –∫ –¥–µ–¥–ª–∞–π–Ω–∞–º:", a: ["–ù–µ —Å–ª—ã—à–∞–ª", "–ë–µ–≥—É –∑–∞ –Ω–∏–º–∏", "–ü–æ–±–µ–∂–¥–∞—é"] },
            { q: "–ß—Ç–æ —Ç—ã –≤—ã–±–µ—Ä–µ—à—å?", a: ["–ú–∏–ª–ª–∏–æ–Ω $", "–õ–µ—Ç–∞—Ç—å", "–ê–∫—Ç–∏–≤ –≤ —á–∞—Ç–µ"] },
            { q: "–¢–≤–æ–π –¥–µ–≤–∏–∑ –ø–æ –∂–∏–∑–Ω–∏:", a: ["–ì–ª–∞–≤–Ω–æ–µ ‚Äî –æ–±–µ–¥", "–û—Ç–≤–∞–≥–∞!", "–ù–æ—Ä–º–∞–ª—å–Ω–æ –±—É–¥–µ—Ç"] }
        ];

        const diagnoses = [
            { t: "–•—Ä–æ–Ω–∏—á–µ—Å–∫–∏–π –•–æ—Ö–æ—Ç—É–Ω", d: "–í—ã —Å–º–µ–µ—Ç–µ—Å—å –¥–∞–∂–µ –Ω–∞–¥ –Ω–µ—Å–º–µ—à–Ω—ã–º–∏ —à—É—Ç–∫–∞–º–∏.", e: "üòÇ" },
            { t: "–ú–∞–≥–∏—Å—Ç—Ä –î–∏–≤–∞–Ω–Ω—ã—Ö –ù–∞—É–∫", d: "–í—ã –¥–æ—Å—Ç–∏–≥–ª–∏ –ø—Ä–æ—Å–≤–µ—Ç–ª–µ–Ω–∏—è, –Ω–µ –≤—Å—Ç–∞–≤–∞—è —Å –∫—Ä–æ–≤–∞—Ç–∏.", e: "üõãÔ∏è" },
            { t: "–ú–µ–º–µ—Ç–∏—á–µ—Å–∫–∏–π –ë–∞—Ä–æ–Ω", d: "–í–∞—à –º–æ–∑–≥ –Ω–∞ 80% —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –∫–∞—Ä—Ç–∏–Ω–æ–∫ —Å –∫–æ—Ç–∞–º–∏.", e: "üòº" },
            { t: "–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –î—É—à–Ω–∏–ª–∞", d: "–í—ã –∑–Ω–∞–µ—Ç–µ, –∫–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –∏ –ª—é–±–∏—Ç–µ —ç—Ç–æ –æ–±—ä—è—Å–Ω—è—Ç—å.", e: "üò§" },
            { t: "–≠–Ω–µ—Ä–≥–µ—Ç–∏—á–µ—Å–∫–∏–π –í–∞–º–ø–∏—Ä", d: "–í—ã –ø–∏—Ç–∞–µ—Ç–µ—Å—å —Ç–æ–ª—å–∫–æ –ø–æ–∑–∏—Ç–∏–≤–Ω–æ–π —ç–Ω–µ—Ä–≥–∏–µ–π –¥—Ä—É–∑–µ–π.", e: "ü•¶" },
            { t: "–ù–∏–Ω–¥–∑—è –ì–∞–¥–∏–æ–Ω–æ–≤–∫–∏", d: "–í—ã –≤—Å—ë –≤–∏–¥–∏—Ç–µ, –≤—Å—ë –∑–Ω–∞–µ—Ç–µ, –Ω–æ –º–æ–ª—á–∏—Ç–µ –≤ —á–∞—Ç–µ.", e: "ü•∑" },
            { t: "–ö–æ—Ä–æ–ª—å –†–∞–Ω–¥–æ–º–∞", d: "–ù–∏–∫—Ç–æ –Ω–µ –∑–Ω–∞–µ—Ç, —á—Ç–æ –≤—ã —Å–∫–∞–∂–µ—Ç–µ –≤ —Å–ª–µ–¥—É—é—â—É—é —Å–µ–∫—É–Ω–¥—É.", e: "üé≤" },
            { t: "–°–≤–µ—Ä—Ö–∑–≤—É–∫–æ–≤–æ–π –õ–µ–Ω—Ç—è–π", d: "–í—ã —É–º—É–¥—Ä—è–µ—Ç–µ—Å—å –Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞—Ç—å –æ—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ.", e: "ü¶•" },
            { t: "–ê–º–±–∞—Å—Å–∞–¥–æ—Ä –ü–µ—á–µ–Ω–µ–∫", d: "–õ—é–±–∞—è –ø—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–∞–µ—Ç—Å—è –¥–ª—è –≤–∞—Å –ø–µ—Ä–µ–∫—É—Å–æ–º.", e: "üç™" },
            { t: "–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ö—Ä–∏–Ω–∂–∞", d: "–í–∞—à–∏ —à—É—Ç–∫–∏ –Ω–∞—Å—Ç–æ–ª—å–∫–æ –ø–ª–æ—Ö–∏, —á—Ç–æ –æ–Ω–∏ –≥–µ–Ω–∏–∞–ª—å–Ω—ã.", e: "ü§°" }
        ];

        function startQuiz() {
            if (currentStep >= 10) {
                document.getElementById('quiz-ui').style.display = 'none';
                document.getElementById('result').style.display = 'block';
                let idx = Math.min(Math.floor((totalScore / 20) * 9), 9);
                const res = diagnoses[idx];
                document.getElementById('diag-title').innerText = res.t;
                document.getElementById('diag-desc').innerText = res.d;
                finalEmoji = res.e; finalTitle = res.t;
                return;
            }
            const q = questions[currentStep];
            document.getElementById('progress').innerText = "–í–æ–ø—Ä–æ—Å " + (currentStep + 1) + " –∏–∑ 10";
            document.getElementById('qText').innerText = q.q;
            const oCont = document.getElementById('oCont');
            oCont.innerHTML = '';
            q.a.forEach((ans, i) => {
                const b = document.createElement('button');
                b.className = 'opt-btn';
                b.innerText = ans;
                b.onclick = () => { 
                    clickSound.currentTime = 0;
                    clickSound.play().catch(e => {}); 
                    totalScore += i; 
                    currentStep++; 
                    startQuiz(); 
                };
                oCont.appendChild(b);
            });
        }

        function showPortrait() { drumSound.currentTime = 0; drumSound.play(); setTimeout(() => { document.getElementById('revBtn').style.display = 'none'; const port = document.getElementById('emoji-portrait'); port.innerText = finalEmoji; port.style.display = 'block'; }, 1500); }
        function copyResult() { const text = "–ú–æ–π –¥–∏–∞–≥–Ω–æ–∑ –≤ Gadionovka 666: " + finalTitle + " " + finalEmoji; navigator.clipboard.writeText(text).then(() => alert("–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!")); }
    </script>
</body>
</html>
